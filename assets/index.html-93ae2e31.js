const n=JSON.parse(`{"key":"v-6d29bd80","path":"/chinese/reading/xiyouji/","title":"西游记","lang":"en-US","frontmatter":{"title":"西游记","home":false,"index":false,"icon":"list-check","navbar":true,"description":"https://xiyouji.5000yan.com/19830.html from bs4 import BeautifulSoup import requests as req path = r\\"F:\\\\01.workspace\\\\27.blog\\\\blog-son\\\\yclord.github.io\\\\src\\\\chinese\\\\reading\\\\xiyouji\\\\src\\" for page in range(19830, 19930, 1): url = f\\"https://xiyouji.5000yan.com/{page}.html\\" resp = req.get(url) soup = BeautifulSoup(resp.content, 'html.parser') main_body = soup.select_one(\\".grap\\") lines = main_body.text.split(\\"\\\\n\\") content = soup.select_one(\\"h5.lh-base\\").text + \\\\ \\"\\\\n\\" + \\\\ \\"\\\\n\\".join( list( filter(lambda x: len(x.strip()) &gt; 0, map(lambda x: x.replace(\\"\\\\t\\", \\"\\"), lines) ) ) ) with open(os.path.join(path, f\\"{page-19830+1:02d}.txt\\"), \\"w\\", encoding=\\"utf-8\\") as fw: fw.write(content)","head":[["meta",{"property":"og:url","content":"https://seamice.github.io/blog/chinese/reading/xiyouji/"}],["meta",{"property":"og:site_name","content":"Yichi's Blog"}],["meta",{"property":"og:title","content":"西游记"}],["meta",{"property":"og:description","content":"https://xiyouji.5000yan.com/19830.html from bs4 import BeautifulSoup import requests as req path = r\\"F:\\\\01.workspace\\\\27.blog\\\\blog-son\\\\yclord.github.io\\\\src\\\\chinese\\\\reading\\\\xiyouji\\\\src\\" for page in range(19830, 19930, 1): url = f\\"https://xiyouji.5000yan.com/{page}.html\\" resp = req.get(url) soup = BeautifulSoup(resp.content, 'html.parser') main_body = soup.select_one(\\".grap\\") lines = main_body.text.split(\\"\\\\n\\") content = soup.select_one(\\"h5.lh-base\\").text + \\\\ \\"\\\\n\\" + \\\\ \\"\\\\n\\".join( list( filter(lambda x: len(x.strip()) &gt; 0, map(lambda x: x.replace(\\"\\\\t\\", \\"\\"), lines) ) ) ) with open(os.path.join(path, f\\"{page-19830+1:02d}.txt\\"), \\"w\\", encoding=\\"utf-8\\") as fw: fw.write(content)"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-09-19T11:19:33.000Z"}],["meta",{"property":"article:author","content":"Yichi"}],["meta",{"property":"article:modified_time","content":"2024-09-19T11:19:33.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"西游记\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-09-19T11:19:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Yichi\\",\\"url\\":\\"https://yclord.github.io/\\"}]}"]]},"headers":[],"git":{"createdTime":1724846579000,"updatedTime":1726744773000,"contributors":[{"name":"unknown","email":"unisa.dady@gmail.com","commits":2}]},"readingTime":{"minutes":0.34,"words":102},"filePathRelative":"chinese/reading/xiyouji/README.md","localizedDate":"August 28, 2024","excerpt":"<p><a href=\\"https://xiyouji.5000yan.com/19830.html\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://xiyouji.5000yan.com/19830.html</a></p>\\n<div class=\\"language-python line-numbers-mode\\" data-ext=\\"py\\"><pre class=\\"language-python\\"><code><span class=\\"token keyword\\">from</span> bs4 <span class=\\"token keyword\\">import</span> BeautifulSoup\\n<span class=\\"token keyword\\">import</span> requests <span class=\\"token keyword\\">as</span> req\\n\\npath <span class=\\"token operator\\">=</span> <span class=\\"token string\\">r\\"F:\\\\01.workspace\\\\27.blog\\\\blog-son\\\\yclord.github.io\\\\src\\\\chinese\\\\reading\\\\xiyouji\\\\src\\"</span>\\n<span class=\\"token keyword\\">for</span> page <span class=\\"token keyword\\">in</span> <span class=\\"token builtin\\">range</span><span class=\\"token punctuation\\">(</span><span class=\\"token number\\">19830</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">19930</span><span class=\\"token punctuation\\">,</span> <span class=\\"token number\\">1</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">:</span>\\n    url <span class=\\"token operator\\">=</span> <span class=\\"token string-interpolation\\"><span class=\\"token string\\">f\\"https://xiyouji.5000yan.com/</span><span class=\\"token interpolation\\"><span class=\\"token punctuation\\">{</span>page<span class=\\"token punctuation\\">}</span></span><span class=\\"token string\\">.html\\"</span></span>\\n    resp <span class=\\"token operator\\">=</span> req<span class=\\"token punctuation\\">.</span>get<span class=\\"token punctuation\\">(</span>url<span class=\\"token punctuation\\">)</span>\\n    soup <span class=\\"token operator\\">=</span> BeautifulSoup<span class=\\"token punctuation\\">(</span>resp<span class=\\"token punctuation\\">.</span>content<span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">'html.parser'</span><span class=\\"token punctuation\\">)</span>\\n    main_body <span class=\\"token operator\\">=</span> soup<span class=\\"token punctuation\\">.</span>select_one<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\".grap\\"</span><span class=\\"token punctuation\\">)</span>\\n    lines <span class=\\"token operator\\">=</span> main_body<span class=\\"token punctuation\\">.</span>text<span class=\\"token punctuation\\">.</span>split<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"\\\\n\\"</span><span class=\\"token punctuation\\">)</span>\\n    \\n    content <span class=\\"token operator\\">=</span> soup<span class=\\"token punctuation\\">.</span>select_one<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"h5.lh-base\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">.</span>text <span class=\\"token operator\\">+</span> \\\\\\n        <span class=\\"token string\\">\\"\\\\n\\"</span> <span class=\\"token operator\\">+</span> \\\\\\n        <span class=\\"token string\\">\\"\\\\n\\"</span><span class=\\"token punctuation\\">.</span>join<span class=\\"token punctuation\\">(</span>\\n            <span class=\\"token builtin\\">list</span><span class=\\"token punctuation\\">(</span>\\n                <span class=\\"token builtin\\">filter</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">lambda</span> x<span class=\\"token punctuation\\">:</span> <span class=\\"token builtin\\">len</span><span class=\\"token punctuation\\">(</span>x<span class=\\"token punctuation\\">.</span>strip<span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">)</span> <span class=\\"token operator\\">&gt;</span> <span class=\\"token number\\">0</span><span class=\\"token punctuation\\">,</span> \\n                    <span class=\\"token builtin\\">map</span><span class=\\"token punctuation\\">(</span><span class=\\"token keyword\\">lambda</span> x<span class=\\"token punctuation\\">:</span> x<span class=\\"token punctuation\\">.</span>replace<span class=\\"token punctuation\\">(</span><span class=\\"token string\\">\\"\\\\t\\"</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"\\"</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> lines<span class=\\"token punctuation\\">)</span>\\n                <span class=\\"token punctuation\\">)</span>\\n            <span class=\\"token punctuation\\">)</span>\\n        <span class=\\"token punctuation\\">)</span>\\n    <span class=\\"token keyword\\">with</span> <span class=\\"token builtin\\">open</span><span class=\\"token punctuation\\">(</span>os<span class=\\"token punctuation\\">.</span>path<span class=\\"token punctuation\\">.</span>join<span class=\\"token punctuation\\">(</span>path<span class=\\"token punctuation\\">,</span> <span class=\\"token string-interpolation\\"><span class=\\"token string\\">f\\"</span><span class=\\"token interpolation\\"><span class=\\"token punctuation\\">{</span>page<span class=\\"token operator\\">-</span><span class=\\"token number\\">19830</span><span class=\\"token operator\\">+</span><span class=\\"token number\\">1</span><span class=\\"token punctuation\\">:</span><span class=\\"token format-spec\\">02d</span><span class=\\"token punctuation\\">}</span></span><span class=\\"token string\\">.txt\\"</span></span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">,</span> <span class=\\"token string\\">\\"w\\"</span><span class=\\"token punctuation\\">,</span> encoding<span class=\\"token operator\\">=</span><span class=\\"token string\\">\\"utf-8\\"</span><span class=\\"token punctuation\\">)</span> <span class=\\"token keyword\\">as</span> fw<span class=\\"token punctuation\\">:</span>\\n        fw<span class=\\"token punctuation\\">.</span>write<span class=\\"token punctuation\\">(</span>content<span class=\\"token punctuation\\">)</span>\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{n as data};
